The main fix needed for page.tsx is to use the "user_id" property to look up agent details instead of "agent_id".\n\nUpdate the fetchProperty function in page.tsx with this logic:\n\n```javascript\n// In fetchProperty function, replace looking for agent_id with user_id\nif (data.user_id) {\n  try {\n    console.log("Looking up property owner:", data.user_id);\n    const { data: userData, error: userError } = await supabase\n      .from("users")\n      .select("*")\n      .eq("id", data.user_id)\n      .single();\n      \n    if (!userError && userData) {\n      // Map user to agent format\n      property.agent = {\n        name: userData.name || userData.username || "Property Agent",\n        email: userData.email,\n        phone: userData.phone || "555-555-5555"\n      };\n    }\n  } catch (err) {\n    console.error("Error fetching user data:", err);\n  }\n}\n```
